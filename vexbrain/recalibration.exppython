{"mode":"Text","hardwareTarget":"brain","textContent":"from vex import *\nimport urandom\n\n# Devices\nbrain = Brain()\ninertial_sensor = Inertial()\nturret_motor = Motor(Ports.PORT3, True)\n\n# Wait for sensor(s) to fully initialize\nwait(100, MSEC)\n\n# Initialize Random Seed (optional)\ndef initializeRandomSeed():\n    wait(100, MSEC)\n    xaxis = inertial_sensor.acceleration(XAXIS) * 1000\n    yaxis = inertial_sensor.acceleration(YAXIS) * 1000\n    zaxis = inertial_sensor.acceleration(ZAXIS) * 1000\n    systemTime = brain.timer.system() * 100\n    urandom.seed(int(xaxis + yaxis + zaxis + systemTime)) \n\ninitializeRandomSeed()\n\n# ----------------------------------\n# Step 1: Reset inertial sensor\ninertial_sensor.reset_rotation()\nwait(2, SECONDS)  # Allow to settle\n\n# Step 2: Read motor's current position as offset\nmotor_offset = turret_motor.position(DEGREES)\n\n# Display motor offset\nbrain.screen.clear_screen()\nbrain.screen.set_cursor(1, 1)\nbrain.screen.print(\"Motor Offset: {:.1f}\".format(motor_offset))\n\n# ----------------------------------\n# Function to aim motor to a heading\ndef point_motor_towards_heading(target_heading):\n    \"\"\"\n    Points turret motor to a direction based on inertial heading.\n    target_heading: desired compass angle (e.g. 0 = front)\n    \"\"\"\n    current_heading = inertial_sensor.heading()\n    heading_error = target_heading - current_heading\n\n    # Normalize to range [-180, 180]\n    if heading_error > 180:\n        heading_error -= 360\n    elif heading_error < -180:\n        heading_error += 360\n\n    motor_target_position = heading_error - motor_offset\n    turret_motor.spin_to_position(motor_target_position, DEGREES)\n\n# Example: point turret forward\npoint_motor_towards_heading(0)","textLanguage":"python","robotConfig":[{"port":[3],"name":"turret_motor","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse"}}],"slot":1,"platform":"EXP","sdkVersion":"20240802.15.00.00","appVersion":"4.0.8","fileFormat":"2.0.0","targetBrainGen":"First","v5SoundsEnabled":false}